<!DOCTYPE html>
<html>
<head>
	<title>JQuiz</title>
	<link type="text/css" rel="stylesheet" href="stylecss.css"/>
</head>
<body>

	
	<div class="main-quiz-container">
		
		<!-- Start page -->
		<div class="intro-page slider">
			<img src="img/quiz-2.jpg" alt="quiz-image">
			<img class="quiz-header" src="img/header.png">	
			<a class="btnStart" href="#" onclick="startquiz()"><img src="img/start.png" alt="image"></a>
		</div>

		 <!-- Questions slider starts -->
		<div class="question-container slider">
			<div class="questions">
				1. question 1
			</div>
			<div class="answers">
				<ul > 
		            <li> 
		            <label><input class="xyz" value="a" type="radio" name="options0">lend structure to the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="b" type="radio" name="options0">mold the presentation of the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="c" type="radio" name="options0">script the interactions on the page</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="d" type="radio" name="options0">You're crafty! This is a trick question.</label> 
		            </li> 
		        </ul> 
			</div>
		</div>
		<div class="question-container slider">
			<div class="questions">
				1. question 2
			</div>
			<div class="answers">
				<ul > 
		            <li> 
		            <label><input class="xyz" value="a" type="radio" name="options1">lend structure to the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="b" type="radio" name="options1">mold the presentation of the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="c" type="radio" name="options1">script the interactions on the page</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="d" type="radio" name="options1">You're crafty! This is a trick question.</label> 
		            </li>  
		        </ul> 
			</div>
		</div>
		<div class="question-container slider">
			<div class="questions">
				1. question 3
			</div>
			<div class="answers">
				<ul > 
		            <li> 
		            <label><input class="xyz" value="a" type="radio" name="options2">lend structure to the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="b" type="radio" name="options2">mold the presentation of the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="c" type="radio" name="options2">script the interactions on the page</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="d" type="radio" name="options2">You're crafty! This is a trick question.</label> 
		            </li> 
		        </ul> 
			</div>
		</div>
		<div class="question-container slider">
			<div class="questions">
				1. question 4
			</div>
			<div class="answers">
				<ul > 
		            <li> 
		            <label><input class="xyz" value="a" type="radio" name="options3">lend structure to the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="b" type="radio" name="options3">mold the presentation of the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="c" type="radio" name="options3">script the interactions on the page</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="d" type="radio" name="options3">You're crafty! This is a trick question.</label> 
		            </li> 
		        </ul> 
			</div>
		</div>
		<div class="question-container slider">
			<div class="questions">
				1. question 5
			</div>
			<div class="answers">
				<ul > 
		            <li> 
		            <label><input class="xyz" value="a" type="radio" name="options4">lend structure to the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="b" type="radio" name="options4">mold the presentation of the document</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="c" type="radio" name="options4">script the interactions on the page</label> 
		            </li> 
		            <li> 
		            <label><input class="xyz" value="d" type="radio" name="options4">You're crafty! This is a trick question.</label> 
		            </li> 
		        </ul> 
			</div>
		</div>
		<!-- Question slider ends -->

		<!-- Result page -->
		<div class="result-page slider" id="result_view">
			<div class="result-viewer">
				<h2>Results</h2>
				<p id="msg"></p>
			</div>
		</div>

		<!-- Progress slider -->
		<div class="progress-slider slider">
			<div class="progress-viewer" id="progress">
				Let's get started..!
			</div>
		</div> 
		<div class="alert"> Please select an option</div>
		<div class="btnContainer"> 
		    <div class="prev"><a class="btnPrev" href="#" onclick="prevQuestn()">Prev</a></div> 
		    <div class="next"><a class="btnNext" id="next" href="#" onclick="nextQuestn()">Next</a></div> 
		    <!-- <div class="result-icon" id="chck_result"><a class="chckResult"  href="#" onclick="nextQuestn()">Next</a></div> -->
		</div>
	</div>

<script>

// document.getElementsByClassName("prev").style.display="none";
// document.getElementsByClassName("next").style.display="none";
var counter=0;
var curr_q = document.getElementsByClassName('question-container');
var ans = ['a','b','c','d','a'];
var user_result= new Array();
var x = new Array();
var btn= document.getElementsByClassName('btnContainer');
var progress = document.getElementById('progress'); 
var score=0;
// var progressWidth = 548;
// document.getElementById('result_view').style.display="none;"
// var ans2= ans.answers;
// console.log(ans2);
// var questionLength= ans2.length;
//console.log(ans.length);


function startquiz ()
{
	var intro = document.getElementsByClassName("intro-page");
	intro[0].style.display="none";
	// document.getElementsByClassName("prev").style.display="block";
	// document.getElementsByClassName("next").style.display="block";
	progress.innerHTML=counter+1 + "/" + ans.length;
	// progress.html=counter+1 + "/" + ans.length;
	curr_q[counter].style.display="block";
	btn[0].style.display="block";	
}

function nextQuestn()
{	
	if(counter==curr_q.length-1)
	{
		// document.getElementsByClassName('next').disabled=true;
		// document.getElementById('result').style.display="block";
		if (!document.querySelector('input[name="options' + counter+'"]:checked'))
		{
			user_result[counter]=0;
		}
		else
		{
			user_result[counter]=document.querySelector('input[name="options' + counter+'"]:checked').value;
		}
		for (var i = 0; i < user_result.length; i++) {
			if(user_result[i]==ans[i])
			{
				score++;
			}
			// console.log (score);
		};
		if (confirm("Are you sure you want to submit the test?") == true) {
       		curr_q[counter].style.display="none";
       		btn[0].style.display="none";
       		document.getElementById('result_view').style.display="block";
       		progress.style.display="none";
       		if (score >= 3)
       		{
       			document.getElementById('msg').innerHTML="Congratulations!! You scored :" + score + " out of " + ans.length;
       		}
       		else 
       		{
       			document.getElementById('msg').innerHTML="Ohh!! You scored :" + score + " out of " + ans.length;
       		}
    	} 
	}
	else
	{
		if(counter==curr_q.length-2)
		{
			document.getElementById('next').innerHTML="Result";
		}

		if (!document.querySelector('input[name="options' + counter+'"]:checked'))
		{
			user_result[counter]=0;
			curr_q[counter].style.display="none";
			curr_q[counter+1].style.display="block";
			// progress.animate({ width: progress.width() + Math.round(progressWidth/questionLength), }, 500 );
			counter ++;
			progress.innerHTML=counter+1 + "/" + ans.length;
			
		}

		else 
		{
			user_result[counter]=document.querySelector('input[name="options' + counter+'"]:checked').value;
			curr_q[counter].style.display="none";
			curr_q[counter+1].style.display="block";
			counter ++;
			progress.innerHTML=counter+1 + "/" + ans.length;
		}
	}
}

function prevQuestn()
{
	if(counter==0)
	{
		document.getElementsByClassName('prev').disabled=true;
		// alert("hi");
	}
	else
	{
		if (!document.querySelector('input[name="options' + counter+'"]:checked'))
		{
			user_result[counter]=0;
		}
		else
		{
			user_result[counter]=document.querySelector('input[name="options' + counter+'"]:checked').value;	
		}
		curr_q[counter].style.display="none";
		curr_q[counter-1].style.display="block";
		counter --;

	}
}

// var xmlhttp = new XMLHttpRequest();
// var url = "questions.txt";

// xmlhttp.onreadystatechange = function() {
//     if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
//         var myArr = JSON.parse(xmlhttp.responseText);
//         myFunction(myArr);
//     }
// }
// xmlhttp.open("GET", url, true);
// xmlhttp.send();

// function myFunction(arr) {
//     var out = "";
//     var i;
//     for(i = 0; i < arr.length; i++) {
//         out += '<a href="' + arr[i].url + '">' + 
//         arr[i].display + '</a><br>';
//     }
//     document.getElementById("id01").innerHTML = out;
// }
</script>

</body>
</html>